{
  "alwaysThinkingEnabled": true,
  "statusLine": {
    "type": "command",
    "command": "input=$(cat); cwd=$(echo \"$input\" | jq -r '.workspace.current_dir'); user=$(whoami); host=$(hostname -s); if [[ \"$cwd\" == \"$HOME\" ]]; then dir=\"~\"; elif [[ \"$cwd\" == \"$HOME\"/* ]]; then rel=\"${cwd#$HOME/}\"; IFS='/' read -ra P <<< \"$rel\"; [ ${#P[@]} -le 2 ] && dir=\"~/$rel\" || dir=\"~/.../${P[-2]}/${P[-1]}\"; else IFS='/' read -ra P <<< \"$cwd\"; [ ${#P[@]} -le 2 ] && dir=\"$cwd\" || dir=\".../${P[-2]}/${P[-1]}\"; fi; git_info=\"\"; if git -C \"$cwd\" --no-optional-locks rev-parse --git-dir > /dev/null 2>&1; then branch=$(git -C \"$cwd\" --no-optional-locks branch --show-current 2>/dev/null); [ -n \"$branch\" ] && { git -C \"$cwd\" --no-optional-locks diff-index --quiet HEAD -- 2>/dev/null && git_info=\" ($branch)\" || git_info=\" ($branch *)\"; }; fi; printf \"\\033[0;32m${user}@${host}\\033[0m \\033[0;36m${dir}\\033[0m\\033[0;35m${git_info}\\033[0m\""
  }
}
